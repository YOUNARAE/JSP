<%@page import="java.util.Date"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<!-- <meta http-equiv="Refresh" content="5;url=https://www.naver.com"> --> <!-- 클라이언트방식 -->
<title>05/autoRequest.jsp</title>
<script type="text/javascript" src="${pageContext.request.contextPath}/resources/jquery-3.6.1.min.js"></script>
</head>
<body>
<h4>Refresh 헤더 활용</h4>
<%--
	response.setIntHeader("Refresh", 1);
--%>
<pre>클라이언트의 상태를 유지해줄 수 없는 것이 Refresh의 단점, 락이 걸린다.
두가지 방법 다 동기요청 방식이다

	서버의 갱신 데이터 확보(동기 요청 구조)
	1. Refresh response header
	2. meta tag
	3. reload
</pre>
<h4>현재 서버의 시간 : <span id="timeArea"><%=new Date()%></span></h4> 


<input type="text" placeholder="기록필드"/>

<script>
// 	setTimeout(() => {
// 		location.reload();
// 	}, 1000);
$.ajax({
	url : "/05/getServerTime",
	dataType : "json",
	success : function(resp) {
		resp.now()
	},
	error : function(jqXHR, status, error) {
		console.log(jqXHR);
		console.log(status);
		console.log(error);
	}
});
</script>
</body>
</html>